package azure

import (
	"fmt"
	"log"

	azidentity "github.com/Azure/azure-sdk-for-go/sdk/azidentity"
	msgraphsdk "github.com/microsoftgraph/msgraph-sdk-go"
)

func getCred() {
	cred, err := azidentity.NewClientSecretCredential(
		"TENANT_ID",
		"CLIENT_ID",
		"CLIENT_SECRET",
		nil,
	)

	client, err := msgraphsdk.NewGraphServiceClientWithCredentials(cred, []string{"User.Read"})
	if err != nil {
		log.Fatal()
	}

	result, err := client.Me().Get(nil)
	fmt.Printf(result)
}
